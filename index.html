<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>発送先フォーム</title>
  <style>
    .form-group { margin-bottom:1em; }
    #otherFields { display:none; margin-left:1em; }
  </style>
</head>
<body>
  <h2>発送先情報</h2>
  <form id="shippingForm" action="https://script.google.com/…/exec" method="POST">
    <!-- 既存の項目（お名前、住所 etc.）は省略 -->
<div class="form-group">
  <label for="product">商品サイズ・価格 <span style="color:red;">*</span></label>
  <select name="product" id="product" required>
    <option value="">選択してください</option>
    <option value="大 ￥5,000-(税込み) 送料別">大 ￥5,000-(税込み) 送料別</option>
    <option value="中 ￥4,000-(税込み) 送料別">中 ￥4,000-(税込み) 送料別</option>
    <option value="小 ￥3,000-(税込み) 送料別">小 ￥3,000-(税込み) 送料別</option>
    <option value="その他">その他（次ページにて記載）</option>
  </select>
</div>

<div id="otherFields" style="display:none; margin-left:1em;">
  <div class="form-group">
    <label for="requestText">ご要望・備考 <span style="color:red;">*</span></label>
    <textarea name="requestText" id="requestText" rows="3" placeholder="ご要望を具体的にご記入ください"></textarea>
  </div>
  <div class="form-group">
    <label for="desiredPrice">ご希望金額 <span style="color:red;">*</span></label>
    <input type="number" name="desiredPrice" id="desiredPrice" placeholder="例：6000" /> 円
  </div>
</div>

<script>
  const productEl = document.getElementById('product');
  const otherFields = document.getElementById('otherFields');
  const requestText = document.getElementById('requestText');
  const desiredPrice = document.getElementById('desiredPrice');

  productEl.addEventListener('change', () => {
    if (productEl.value === 'その他') {
      otherFields.style.display = 'block';
      requestText.setAttribute('required', 'required');
      desiredPrice.setAttribute('required', 'required');
    } else {
      otherFields.style.display = 'none';
      requestText.removeAttribute('required');
      desiredPrice.removeAttribute('required');
      requestText.value = '';
      desiredPrice.value = '';
    }
  });
</script>

    </body>
</html>
